/* Author: Drew Chase */
function displayAdminLogin(){openPopup("admin-login-popup"),setTimeout(()=>{$("#admin-login-popup.popup input#username").focus()},250)}function displayAdminActions(){openPopup("admin-actions-popup")}(async()=>{async function p(){let p=$("#admin-login-popup.popup input#username").val(),i=$("#admin-login-popup.popup input#password").val();if(null==p||""==p)return $("#login-error").html("Please enter a username"),$("#admin-login-popup.popup input#username").addClass("error"),void setTimeout(()=>{$("#admin-login-popup.popup input#username").removeClass("error")},5e3);if(null==i||""==i)return $("#login-error").html("Please enter a password"),$("#admin-login-popup.popup input#password").addClass("error"),void setTimeout(()=>{$("#admin-login-popup.popup input#password").removeClass("error")},5e3);let o=await n.login(p,i);o.success||($("#login-error").html(o.error),$("#admin-login-popup.popup input#username").addClass("error"),$("#admin-login-popup.popup input#password").addClass("error"),setTimeout(()=>{$("#admin-login-popup.popup input#username").removeClass("error"),$("#admin-login-popup.popup input#password").removeClass("error")},5e3))}const n=new Authentication;$("#admin-login").html(n.admin?"Logout":"Administrator Login"),$("#admin-login").on("click",()=>{n.admin?displayAdminActions():displayAdminLogin()}),$(n).on("logged-in",()=>{$("#admin-login").html("Admin Actions"),closePopup(),$("body").append('\n        <script id="admin-script" src="/assets/js/admin-actions.min.js"></script>\n        <script id="admin-script" src="/assets/js/database-list.min.js"></script>\n        <script id="admin-script" src="/assets/js/pricing-list.min.js"></script>\n        ')}),$("#admin-login-popup.popup #login").on("click",()=>{}),$(".popup .login").on("click",p),$("#admin-login-popup.popup input").on("keypress",n=>{"Enter"==n.key&&p()})})();