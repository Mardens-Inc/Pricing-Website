/* Author: Drew Chase */
class Voice{constructor(t=""){if(!window.SpeechRecognition&&!window.webkitSpeechRecognition)return this.unsupported=!0,void alert("Your browser does not support voice recognition");this.unsupported=!1,this.shouldListen=!1,this.recognition=new webkitSpeechRecognition,this.recognition.continuous=!0,this.recognition.interimResults=!0,this.recognition.lang="en-US",this.recognition.onresult=(e=>{let i="",s="";for(let t=e.resultIndex;t<e.results.length;++t)e.results[t].isFinal?s+=e.results[t][0].transcript:i+=e.results[t][0].transcript;""!=t&&(s=s.replace(t,""),i=i.replace(t,"")),s=s.trim(),""!=(i=i.trim())?$(this).trigger("interim",[i]):""!=s&&$(this).trigger("result",[s])}),this.recognition.onend=(()=>{$(this).trigger("end")})}start(){this.shouldListen=!0,this.recognition.start()}stop(){this.shouldListen=!1,this.recognition.stop()}speak(t){let e=new SpeechSynthesisUtterance(t);window.speechSynthesis.speak(e)}}