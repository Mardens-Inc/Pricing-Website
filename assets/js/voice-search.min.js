/* Author: Drew Chase */
class Voice{constructor(t=""){if(!("webkitSpeechRecognition"in window))return this.unsupported=!0,void alert("Your browser does not support voice recognition");this.unsupported=!1,this.shouldListen=!1,this.recognition=new webkitSpeechRecognition,this.recognition.continuous=!0,this.recognition.interimResults=!0,this.recognition.lang="en-US",this.recognition.onresult=(i=>{let e="",s="";for(let t=i.resultIndex;t<i.results.length;++t)i.results[t].isFinal?s+=i.results[t][0].transcript:e+=i.results[t][0].transcript;""!=t&&(s=s.replace(t,""),e=e.replace(t,"")),s=s.trim(),""!=(e=e.trim())?$(this).trigger("interim",[e]):""!=s&&$(this).trigger("result",[s])}),this.recognition.onend=(()=>{$(this).trigger("end")})}start(){this.shouldListen=!0,this.recognition.start()}stop(){this.shouldListen=!1,this.recognition.stop()}speak(t){let i=new SpeechSynthesisUtterance(t);window.speechSynthesis.speak(i)}}